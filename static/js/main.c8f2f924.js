(()=>{"use strict";var e={5110:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ze});var r=n(5690),o=n(2982),i=n(885),a=n(9),s="@expense-tracker:expenses",l="@expense-tracker:payment-methods",u=n(5861),c=n(7108),d=n(871),f=n(6092);function p(e,t,n){var r=e.filter((function(e){return t(new Date(e.date))===t(new Date)})).sort((function(e,t){var n=new Date(e.date);return new Date(t.date).getTime()-n.getTime()})),o=(0,c.groupBy)(r,n);return Object.keys(o).map((function(e){return{title:e,data:o[e]}}))}function g(e,t){d.default.showWithGravityAndOffset(e,t,d.default.TOP,25,50)}function y(e){return"Nenhum gasto "+("semana"===e?"nesta":"neste")+" "+e+" at\xe9 agora"}function h(e){return e?JSON.parse(e):[]}function x(){return(x=(0,u.default)((function*(){yield f.default.removeItem(l)}))).apply(this,arguments)}var m=n(1265);var b=n(784),j=(0,a.createContext)({expenses:[],addExpense:function(){},deleteExpense:function(){},setExpenses:function(){},updateExpenses:function(){},loadingExpenses:!1,setLoadingExpenses:function(){}});const v=function(e){var t=e.children,n=(0,a.useState)([]),r=(0,i.default)(n,2),l=r[0],u=r[1],c=(0,a.useState)(!0),d=(0,i.default)(c,2),p=d[0],y=d[1];(0,a.useEffect)((function(){!function(e,t){f.default.getItem(s).then((function(n){e(!1),n&&t(JSON.parse(n))})).catch((function(t){g("Houve um erro ao tentar carregar suas despesas: "+t.message,3),e(!1)}))}(y,u)}),[]);return(0,b.jsx)(j.Provider,{value:{expenses:l,addExpense:function(e){u((function(t){return[].concat((0,o.default)(t),[e])}))},setExpenses:u,deleteExpense:function(e){u((function(t){return t.filter((function(t){return t.id!==e.id}))}))},updateExpenses:function(e){u((function(t){return t.map((function(t){return t.id===e.id&&(t=e),t}))}))},loadingExpenses:p,setLoadingExpenses:y},children:t})};var O=n(4942),w=n(2366),S=n(264),P=n(3331),D=n(2820),E=n(7309),C=n(2062),I=n(5077),k=n(4858),T=n(8409),V=n(5143),z=n(1831),F=n(6846),L={primary:{lighter:"#8c97d3",light:"#6574c4",main:"#3f51b5",dark:"#324191",darker:"#26316d"},secondary:{lighter:"#ffda6a",light:"#ffcd39",main:"#ffc107",dark:"#cc9a06",darker:"#997404"},grey:{lighter:"#a7acb1",light:"#899197",main:"#6C757D",dark:"#565e64",darker:"#41464b"},white:"#fff"},H={shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:1,shadowRadius:10,elevation:5},M=P.default.create({pageStyle:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:L.primary.main,paddingHorizontal:15},noExpensesText:{fontSize:25,color:"#fff",textAlign:"center",textAlignVertical:"center"}}),R=n(4625),B=n(187),A=n(6628),N=n(7183);function _(e){var t=e.amount,n=e.style;return(0,b.jsx)(N.default,{style:n,value:t,prefix:"R$",delimiter:".",separator:",",editable:!1})}function W(){return(W=(0,u.default)((function*(e){try{var t=yield f.default.getItem(l);t&&e(JSON.parse(t))}catch(n){g("Houve um erro ao carregas as op\xe7\xf5es de pagamento!",4)}}))).apply(this,arguments)}var J=[{label:"PIX",value:"pix",logo:n(6408),isFavourite:!1},{label:"Dinheiro",value:"dinheiro",logo:n(509),isFavourite:!1},{label:"D\xe9bito",value:"debito",logo:n(2734),isFavourite:!1},{label:"Cr\xe9dito",value:"credito",logo:n(3577),isFavourite:!1}];!function(){x.apply(this,arguments)}();var G=(0,a.createContext)({paymentOptions:J,setFavPaymentMethod:function(){},addPaymentOption:function(){}});const X=function(e){var t=e.children,n=(0,a.useState)(J),r=(0,i.default)(n,2),s=r[0],u=r[1];return(0,a.useLayoutEffect)((function(){!function(e){W.apply(this,arguments)}(u)}),[]),(0,b.jsx)(G.Provider,{value:{paymentOptions:s,setFavPaymentMethod:function(e){var t=s.map((function(t){return t.value===e.value?e:t}));if(e.isFavourite){var n=t.find((function(t){return t.value===e.value}));n&&t.forEach((function(e){e.isFavourite=e===n}))}!function(e){f.default.setItem(l,JSON.stringify(e))}(t),u(t)},addPaymentOption:function(e){u((function(t){return[].concat((0,o.default)(t),[e])}))}},children:t})};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=20;function K(e){var t=e.expenses,n=(0,A.useNavigation)(),r=(0,a.useContext)(G).paymentOptions,o=t.reduce((function(e,t){return e+t.data.reduce((function(e,t){return e+t.amount}),0)}),0);function i(e){var t=r.filter((function(t){return t.value===e}))[0];return(0,b.jsx)(B.default,{source:null==t?void 0:t.logo,style:{height:q,width:q}})}return(0,b.jsx)(R.default,{showsVerticalScrollIndicator:!1,style:Q.sectionStyle,ListHeaderComponent:function(){return(0,b.jsx)(_,{amount:o,style:Q.totalHeaderText})},sections:t,renderItem:function(e){var t,r=e.item;return(0,b.jsx)(S.default,{style:Q.itemView,children:(0,b.jsxs)(w.default,{android_ripple:{color:L.grey.lighter},onPress:function(){return n.navigate("ExpenseForm",r)},style:Q.pressableItem,children:[(0,b.jsxs)(S.default,{style:Q.leftView,children:[(0,b.jsx)(T.default,{style:Q.itemTitle,children:r.title}),(0,b.jsxs)(S.default,{style:Q.iconsView,children:[(0,b.jsx)(I.default,{name:"logo-usd",size:q,color:r.paid?"green":"red",style:{marginRight:-4}}),r.method&&(0,b.jsx)(S.default,{style:Q.leftView,children:i(r.method)}),""!==r.description&&(0,b.jsx)(I.default,{name:"ellipsis-horizontal",size:q,color:L.primary.main})]})]}),(0,b.jsx)(_,{amount:r.amount,style:Q.priceText}),(0,b.jsx)(S.default,{style:Q.dateText,children:(0,b.jsx)(T.default,{children:(t=r.date,(0,z.default)(new Date(t),"d 'de' MMMM '\xe0s' HH:mm",{locale:F.default}))})})]})})},renderSectionHeader:function(e){var t=e.section.title;return(0,b.jsx)(T.default,{style:Q.headerSection,children:t})}})}var Q=P.default.create({sectionStyle:{width:"100%"},totalHeaderText:$({marginTop:5,fontSize:25,color:"#fff",fontWeight:"500",textAlign:"center",marginBottom:3},{textShadowOffset:{width:1,height:1},textShadowColor:"#000000",textShadowRadius:3}),itemView:$({borderRadius:20,overflow:"hidden",marginBottom:10},H),pressableItem:{backgroundColor:"#fff",paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:100,position:"relative"},leftView:{gap:10},iconsView:{flexDirection:"row",gap:5},itemTitle:{fontSize:24,color:L.primary.main},priceText:{fontSize:22,fontWeight:"bold",color:L.primary.darker,display:"flex",textAlign:"right",width:"90%"},dateText:{position:"absolute",top:0,right:"50%",transform:[{translateX:42}]},headerSection:$({fontSize:20,backgroundColor:L.primary.darker,color:"#fff",marginTop:5,marginBottom:10,borderRadius:10,fontWeight:"bold",padding:1,textAlign:"center",textTransform:"capitalize"},H)});function U(){var e=(0,a.useContext)(j),t=e.expenses,n=e.loadingExpenses,r=p(t,V.default,(function(e){return(0,z.default)(new Date(e.date),"EEEE",{locale:F.default})}));return(0,b.jsx)(S.default,{style:M.pageStyle,children:n?(0,b.jsx)(k.default,{animating:!0,size:"large",color:L.secondary.main}):r.length?(0,b.jsx)(K,{expenses:r}):(0,b.jsx)(T.default,{style:M.noExpensesText,children:y("semana")})})}var Z=n(7075),ee=n(7839);function te(){var e=(0,a.useContext)(j),t=e.expenses,n=e.loadingExpenses,r=p(t,Z.default,(function(e){return"Semana "+(0,ee.default)(new Date(e.date))}));return(0,b.jsx)(S.default,{style:M.pageStyle,children:n?(0,b.jsx)(k.default,{animating:!0,size:"large",color:L.secondary.main}):r.length?(0,b.jsx)(K,{expenses:r}):(0,b.jsx)(T.default,{style:M.noExpensesText,children:y("m\xeas")})})}var ne=n(5068);function re(){var e=(0,a.useContext)(j),t=e.expenses,n=e.loadingExpenses,r=p(t,ne.default,(function(e){return(0,z.default)(new Date(e.date),"LLLL",{locale:F.default})}));return(0,b.jsx)(S.default,{style:M.pageStyle,children:n?(0,b.jsx)(k.default,{animating:!0,size:"large",color:L.secondary.main}):r.length?(0,b.jsx)(K,{expenses:r}):(0,b.jsx)(T.default,{style:M.noExpensesText,children:y("ano")})})}var oe=n(3707),ie=n(500);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={borderBottomWidth:.5,borderBottomColor:L.grey.lighter},ue={fontSize:20,color:"#000"},ce=L.primary.main,de=L.grey.light,fe=P.default.create({paidInputView:se(se({flexDirection:"row",justifyContent:"space-between",alignItems:"center"},le),{},{height:65}),inputIconView:se({flexDirection:"row",alignItems:"center",gap:10},le),textInputStyle:se({width:"100%",height:65},ue)});function pe(e){var t=e.title,n=e.setTitle;return(0,b.jsxs)(S.default,{style:fe.inputIconView,children:[(0,b.jsx)(I.default,{name:"pencil-sharp",size:20,color:ce}),(0,b.jsx)(ie.default,{style:fe.textInputStyle,placeholder:"T\xedtulo",placeholderTextColor:de,onChangeText:n,value:t,maxLength:20})]})}var ge=n(5806);function ye(e){var t=e.date,n=e.setDate,r=(0,a.useRef)(null);function o(e){ge.DateTimePickerAndroid.open({value:t,onChange:function(t){var o;(n(new Date(Number(t.nativeEvent.timestamp))),"set"===t.type&&"date"===e)&&(null==(o=r.current)||o.focus())},mode:e,is24Hour:!0})}return(0,b.jsxs)(S.default,{style:[fe.inputIconView,{justifyContent:"flex-start"}],children:[(0,b.jsxs)(S.default,{style:[fe.inputIconView,{width:"50%",borderBottomWidth:0}],children:[(0,b.jsx)(I.default,{name:"calendar",size:20,color:ce}),(0,b.jsx)(ie.default,{style:fe.textInputStyle,value:(0,z.default)(t,"dd/MM/yyyy"),onFocus:function(){return o("date")}})]}),(0,b.jsxs)(S.default,{style:[fe.inputIconView,{paddingLeft:15,borderBottomWidth:0}],children:[(0,b.jsx)(I.default,{name:"time",size:20,color:ce}),(0,b.jsx)(ie.default,{ref:r,style:fe.textInputStyle,value:(0,z.default)(t,"HH:mm"),onFocus:function(){return o("time")}})]})]})}function he(e){var t=e.description,n=e.setDescription;return(0,b.jsxs)(S.default,{style:fe.inputIconView,children:[(0,b.jsx)(I.default,{name:"ellipsis-horizontal",size:20,color:ce}),(0,b.jsx)(ie.default,{style:[fe.textInputStyle],placeholder:"Descri\xe7\xe3o",placeholderTextColor:de,onChangeText:n,value:t})]})}var xe=n(4716);function me(e){var t=e.paid,n=e.setPaid;return(0,b.jsx)(w.default,{onPress:function(){return n(!t)},style:{flex:1},children:(0,b.jsxs)(S.default,{style:[fe.paidInputView,{zIndex:100,paddingRight:6.3}],children:[(0,b.jsxs)(S.default,{style:[fe.inputIconView,{borderBottomWidth:0}],children:[(0,b.jsx)(I.default,{name:"logo-usd",size:22,color:t?"green":"red"}),(0,b.jsx)(T.default,{style:ue,children:"Pago"})]}),(0,b.jsx)(xe.default,{trackColor:{false:L.grey.light,true:L.grey.light},thumbColor:t?L.secondary.main:L.grey.darker,onValueChange:function(){return n(!t)},value:t})]})})}var be="#fff";function je(e){var t=e.amount,n=e.setAmount,r=e.existingExpense;return(0,b.jsxs)(S.default,{style:ve.valueView,children:[(0,b.jsx)(T.default,{style:ve.valueTextStyle,children:"Valor"}),(0,b.jsx)(N.default,{style:ve.currencyInputStyle,value:t,onChangeValue:function(e){return n(null!=e?e:0)},prefix:"R$",delimiter:".",separator:",",precision:2,minValue:0,autoFocus:!r})]})}var ve=P.default.create({valueView:{width:"100%",padding:15},valueTextStyle:{fontSize:18,fontWeight:"400",color:be},currencyInputStyle:{fontSize:28,fontWeight:"bold",color:be}});function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){var t=e.isDeleteLoading,n=e.deleteExpenseHandler;return(0,b.jsx)(b.Fragment,{children:t?(0,b.jsx)(k.default,{style:Se.deleteExpense,animating:!0,size:"small",color:"red"}):(0,b.jsx)(w.default,{style:Se.deleteExpense,android_ripple:{color:L.grey.lighter},onPress:n,children:(0,b.jsx)(T.default,{style:Se.deleteExpenseText,children:"Deletar Despesa"})})})}var Se=P.default.create({deleteExpense:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({padding:15},le),deleteExpenseText:{textAlign:"center",width:"100%",color:"red",fontSize:15}}),Pe=n(2296);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){var t=e.expenseHasBeenModified,n=e.isSubmitLoading,r=e.sendFormData;return(0,b.jsx)(S.default,{style:[Ce.submitIcon,{display:t?"none":"flex"}],children:n?(0,b.jsx)(k.default,{animating:!0,size:"large",color:L.secondary.main}):(0,b.jsx)(Pe.default,{onPress:r,children:(0,b.jsx)(I.default,{name:"save",size:30,color:"#fff"})})})}var Ce=P.default.create({submitIcon:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({activeOpacity:.1,width:60,height:60,justifyContent:"center",alignItems:"center",borderRadius:100,backgroundColor:L.primary.darker,position:"absolute",bottom:10},H)}),Ie=n(5531);function ke(e){var t=e.option,n=e.selectedOption,r=(0,a.useContext)(G).setFavPaymentMethod;return(0,b.jsxs)(S.default,{style:Te.leftOptionView,children:[(0,b.jsx)(B.default,{source:t.logo,style:{height:20,width:20}}),(0,b.jsx)(T.default,{style:[fe.textInputStyle,{textAlignVertical:"center",height:"100%",display:"flex",alignItems:"center",width:"100%"}],children:t.label}),n&&(0,b.jsx)(S.default,{children:(0,b.jsx)(Ie.default,{size:32,fillColor:"#fff",isChecked:t.isFavourite,unfillColor:"#fff",innerIconStyle:{borderWidth:0},disableBuiltInState:!0,disableText:!0,onPress:function(){return function(e){e.isFavourite=!e.isFavourite,r(e)}(t)},style:{justifyContent:"flex-end",padding:2}})})]})}var Te=P.default.create({leftOptionView:{display:"flex",flexGrow:1,height:65,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:10}});function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ze=P.default.create({optionsRootView:{backgroundColor:"white",width:"100%",borderTopLeftRadius:20,borderTopRightRadius:20,overflow:"hidden"},optionView:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({paddingHorizontal:10,paddingVertical:5,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},le)}),Fe=n(1102);function Le(e){var t=e.children,n=e.open,r=e.setOpen,o=e.backdropColor;return(0,b.jsx)(Fe.default,{isVisible:n,scrollHorizontal:!1,onSwipeComplete:function(){return r(!1)},swipeDirection:["down"],style:{margin:0,justifyContent:"flex-end"},onBackdropPress:function(){return r(!1)},onBackButtonPress:function(){return r(!1)},animationOut:"slideOutDown",backdropColor:null!=o?o:"black",backdropTransitionOutTiming:0,children:t})}function He(e){var t=e.open,n=e.setOpen,r=e.paymentOptions,o=e.setValue,i=(e.selectedValue,e.setSelectedValue),a=e.setCreatePayMethodModalOpen;(0,b.jsx)(w.default,{onPress:function(){n(!1),a(!0)},android_ripple:{color:L.grey.lighter},children:(0,b.jsxs)(S.default,{style:[ze.optionView,{gap:6}],children:[(0,b.jsx)(I.default,{name:"add-circle-outline",size:22}),(0,b.jsx)(T.default,{style:[fe.textInputStyle,{textAlignVertical:"center"}],children:"Adicionar forma de pagamento"})]})});return(0,b.jsx)(Le,{open:t,setOpen:n,children:(0,b.jsx)(S.default,{style:ze.optionsRootView,children:(0,b.jsx)(oe.default,{data:r,renderItem:function(e){return function(e){return(0,b.jsx)(w.default,{android_ripple:{color:L.grey.lighter},onPress:function(){i(e.value),o(e.value),n(!1)},children:(0,b.jsx)(S.default,{style:ze.optionView,children:(0,b.jsx)(ke,{option:e})})})}(e.item)}})})})}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t=e.openOptionsModal,n=e.setOpenOptionsModal,r=e.value,o=e.setValue,s=(0,a.useState)(r),l=(0,i.default)(s,2),u=l[0],c=l[1],d=(0,a.useState)(!1),f=(0,i.default)(d,2),p=(f[0],f[1]),g=(0,a.useContext)(G).paymentOptions;var y={open:t,setOpen:n,paymentOptions:g,setValue:o,selectedValue:u,setSelectedValue:c,setCreatePayMethodModalOpen:p};return(0,b.jsxs)(S.default,{style:Re(Re({},fe.inputIconView),{},{flex:1,alignItems:"center",height:"100%"}),children:[(0,b.jsx)(He,Re({},y)),(0,b.jsx)(w.default,{onPress:function(){return n(!0)},style:{width:"100%"},children:function(){var e=g.find((function(e){return e.value===u}));return e?(0,b.jsx)(ke,{option:e,selectedOption:!0}):null}()})]})}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(){var e,t=(0,A.useRoute)(),n=(0,A.useNavigation)();(0,a.useEffect)((function(){c?n.setOptions({title:"Detalhes da Despesa"}):n.setOptions({title:"Adicionar Despesa"})}),[]);var r=(null==(e=(0,a.useContext)(G).paymentOptions.find((function(e){return e.isFavourite})))?void 0:e.value)||"pix",l=(0,a.useState)(t.params),u=(0,i.default)(l,2),c=u[0],d=u[1],p=(0,a.useState)(!c||c.paid),y=(0,i.default)(p,2),x=y[0],v=y[1],O=(0,a.useState)(c?c.title:""),w=(0,i.default)(O,2),P=w[0],D=w[1],E=(0,a.useState)(c?c.amount:0),C=(0,i.default)(E,2),I=C[0],k=C[1],T=(0,a.useState)(c?new Date(c.date):new Date),V=(0,i.default)(T,2),z=V[0],F=V[1],L=(0,a.useState)(c?c.description:""),H=(0,i.default)(L,2),R=H[0],B=H[1],N=(0,a.useState)(c?c.method:r),_=(0,i.default)(N,2),W=_[0],J=_[1],X=(0,a.useState)(!1),Y=(0,i.default)(X,2),$=Y[0],q=Y[1],K=(0,a.useState)(!1),Q=(0,i.default)(K,2),U=Q[0],Z=Q[1],ee=(0,a.useState)(!1),te=(0,i.default)(ee,2),ne=te[0],re=te[1],ie=(0,a.useState)(!1),ae=(0,i.default)(ie,2),se=ae[0],le=ae[1],ue=(0,a.useState)(!1),ce=(0,i.default)(ue,2),de=ce[0],fe=ce[1],ge=(0,a.useContext)(j),xe=ge.addExpense,be=ge.updateExpenses,ve=ge.deleteExpense;function Oe(){return{title:P,amount:I,date:new Date(z).toString(),description:R,paid:x,method:W,id:Math.random().toString(36).substring(2,8)+"-"+Date.now().toString(36).substring(4,12)}}function Se(){setTimeout((function(){le(!1)}),3e3)}function Pe(){if(!se){if(!I)return g("Defina um pre\xe7o!",3),le(!0),void Se();if(""===P.trim())return g("Defina um t\xedtulo!",3),le(!0),void Se();var e={expense:Oe(),isSubmitLoading:$,setIsSubmitLoading:q};c?(e.expense.id=c.id,d(e.expense),function(e){var t=e.expense,n=e.isSubmitLoading,r=e.setIsSubmitLoading,o=e.contextFunction;n||(r(!0),f.default.getItem(s).then((function(e){if(e){var n=h(e),i=JSON.stringify(n.map((function(e){return e.id===t.id?t:e})));f.default.setItem(s,i).then((function(){r(!1),o(t),g("Sua despesa foi editada com sucesso!",3)})).catch((function(e){r(!1),g("Houve um erro ao editar sua despesa: "+e.message,4.5)}))}})).catch((function(e){r(!1),g("Houve um erro ao editar sua despesa: "+e.message,4.5)})))}(Ne(Ne({},e),{},{contextFunction:be}))):function(e){var t=e.expense,n=e.isSubmitLoading,r=e.setIsSubmitLoading,i=e.contextFunction,a=e.navigation;n||(r(!0),f.default.getItem(s).then((function(e){var n;if(e){var l=h(e);n=[].concat((0,o.default)(l),[t])}else n=[t];f.default.setItem(s,JSON.stringify(n)).then((function(){i(t),r(!1),g("Sua despesa foi salva com sucesso!",3),null==a||a.goBack()})).catch((function(e){r(!1),g("Houve um erro ao carregar suas despesas: "+e.message,4.5)}))})).catch((function(e){r(!1),g("Houve um erro ao carregar suas despesas: "+e.message,4.5)})))}(Ne(Ne({},e),{},{contextFunction:xe,navigation:n}))}}function De(){var e=Oe();e.id=null==c?void 0:c.id,function(e){var t=e.expense,n=e.isSubmitLoading,r=e.setIsSubmitLoading,o=e.contextFunction,i=e.navigation;n||m.default.alert("Deseja excluir a despesa "+t.title+"?","",[{text:"Deletar",onPress:function(){f.default.getItem(s).then((function(e){if(e){var n=h(e),a=JSON.stringify(n.filter((function(e){return e.id!==t.id})));f.default.setItem(s,a).then((function(){r(!1),o(t),g("Despesa deletada com sucesso!",3),null==i||i.goBack()})).catch((function(e){r(!1),g("Houve um erro ao tentar deletar a despesa: "+e.message,4.5)}))}}))}},{},{text:"Cancelar"}],{cancelable:!0})}({expense:e,isSubmitLoading:U,setIsSubmitLoading:Z,contextFunction:ve,navigation:n})}return(0,a.useEffect)((function(){if(c){var e=Oe();e.id=c.id,re(function(e,t){for(var n in e)if("id"!==n&&e.hasOwnProperty(n)&&e[n]!==t[n])return!1;for(var r in t)if("id"!==r&&t.hasOwnProperty(r)&&t[r]!==e[r])return!1;return!0}(c,e))}}),[P,I,z,R,x,W,Pe]),(0,a.useEffect)((function(){x||J(null),x&&(null!=c&&c.method?J(c.method):J(r))}),[x]),(0,b.jsxs)(S.default,{style:[M.pageStyle,We.customPageStyle],children:[(0,b.jsx)(je,{amount:I,setAmount:k,existingExpense:c}),(0,b.jsx)(oe.default,{data:[{key:"parentCard"}],renderItem:function(){return(0,b.jsx)(S.default,{style:We.parentCard,children:(0,b.jsxs)(S.default,{style:We.childCard,children:[(0,b.jsx)(me,{paid:x,setPaid:v}),(0,b.jsx)(pe,{title:P,setTitle:D}),(0,b.jsx)(ye,{date:z,setDate:F}),W&&(0,b.jsx)(Be,{openOptionsModal:de,setOpenOptionsModal:fe,value:W,setValue:J}),(0,b.jsx)(he,{description:R,setDescription:B}),c&&(0,b.jsx)(we,{isDeleteLoading:U,deleteExpenseHandler:De})]})})},showsVerticalScrollIndicator:!1,style:We.flatListStyle}),(0,b.jsx)(Ee,{expenseHasBeenModified:ne,isSubmitLoading:$,sendFormData:Pe})]})}var We=P.default.create({customPageStyle:{paddingHorizontal:0,paddingTop:0,position:"relative"},flatListStyle:{width:"100%"},parentCard:{backgroundColor:"#fff",borderTopLeftRadius:20,borderTopRightRadius:20,minHeight:633},childCard:{paddingHorizontal:15}});function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=(0,E.default)(),Ye=(0,C.default)(),$e={headerTitleAlign:"center",headerStyle:{backgroundColor:L.primary.dark},headerTintColor:"#fff"};function qe(e){return(0,b.jsx)(S.default,{style:Ue.addExpenseIcon,children:(0,b.jsx)(w.default,{onPress:function(){return e.navigate("ExpenseForm")},android_ripple:{color:L.grey.dark},children:(0,b.jsx)(I.default,{name:"add-outline",size:38,color:"#fff"})})})}function Ke(){return(0,b.jsxs)(Xe.Navigator,{screenOptions:function(e){var t=e.route;return{tabBarStyle:{backgroundColor:L.primary.dark},tabBarActiveTintColor:L.secondary.main,tabBarInactiveTintColor:L.white,tabBarIcon:function(e){var n,r=e.focused,o=e.color,i=e.size;return"WeekExpenses"===t.name&&(n=r?"time":"time-outline"),"MonthExpenses"===t.name&&(n=r?"calendar":"calendar-outline"),"YearExpenses"===t.name&&(n=r?"sunny":"sunny-outline"),(0,b.jsx)(I.default,{name:n,size:i,color:o})}}},children:[(0,b.jsx)(Xe.Screen,{name:"WeekExpenses",component:U,options:function(e){var t=e.navigation;return Ge(Ge({},$e),{},{title:"Semana",headerTitle:"Despesas semanais",headerRight:function(){return qe(t)}})}}),(0,b.jsx)(Xe.Screen,{name:"MonthExpenses",component:te,options:function(e){var t=e.navigation;return Ge(Ge({},$e),{},{title:"M\xeas",headerTitle:"Despesas mensais",headerRight:function(){return qe(t)}})}}),(0,b.jsx)(Xe.Screen,{name:"YearExpenses",component:re,options:function(e){var t=e.navigation;return Ge(Ge({},$e),{},{title:"Ano",headerTitle:"Despesas anuais",headerRight:function(){return qe(t)}})}})]})}function Qe(){return(0,b.jsx)(D.default,{children:(0,b.jsxs)(Ye.Navigator,{screenOptions:function(e){var t=e.route;return Ge({headerShown:"NewExpense"===t.name||"ExpenseForm"===t.name},$e)},children:[(0,b.jsx)(Ye.Screen,{name:"Expenses",component:Ke}),(0,b.jsx)(Ye.Screen,{name:"ExpenseForm",component:_e,options:{title:"Editar Despesa"}})]})})}var Ue=P.default.create({addExpenseIcon:{borderRadius:80,overflow:"hidden",alignSelf:"center"}});function Ze(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(X,{children:(0,b.jsxs)(v,{children:[(0,b.jsx)(r.default,{style:"light"}),(0,b.jsx)(S.default,{style:{flex:1,backgroundColor:L.primary.main},children:(0,b.jsx)(Qe,{})})]})})})}},3577:(e,t,n)=>{e.exports=n.p+"static/media/logo-credito.fb317f4fb0682677647a.png"},2734:(e,t,n)=>{e.exports=n.p+"static/media/logo-debito.32ae852b4cb425774a5d.png"},509:(e,t,n)=>{e.exports=n.p+"static/media/logo-dinheiro.be7d7b5aac403c3e46de.png"},6408:(e,t,n)=>{e.exports=n.p+"static/media/logo-pix.61afb614f8eee482f795.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(c=0;c<e.length;c++){for(var[r,o,i]=e[c],s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,s,l]=r,u=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var c=l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[409],(()=>n(4584)));r=n.O(r)})();
//# sourceMappingURL=main.c8f2f924.js.map